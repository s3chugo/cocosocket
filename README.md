clone from https://github.com/beykery/cocosocket